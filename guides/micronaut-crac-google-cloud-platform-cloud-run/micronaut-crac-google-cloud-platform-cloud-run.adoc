common:header.adoc[]

You are going to deploy a Docker Image containing a CRaC enabled JDK and a pre-warmed, checkpointed Micronaut application to https://cloud.google.com/run[Google Cloud Run].

common:cloudrun.adoc[]

common:docker-crac.adoc[]

== Docker Push

common:google-cloud-registry.adoc[]

:exclude-for-build:

:exclude-for-build:maven

Modify your Gradle build and configure the

[source,groovy]
----
...
..
.
tasks.named("dockerBuildCrac") {
    images = ["gcr.io/micronaut-guides/micronautguide:latest"]
}
----

:exclude-for-build:

:exclude-for-build:maven

[source, bash]
----
./gradlew dockerPushCrac
----

:exclude-for-build:
:exclude-for-build:gradle

[source, bash]
----
./mvnw deploy \
     -Dpackaging=docker-crac \
     -Djib.to.image=gcr.io/micronaut-guides/micronautguide:latest
----

:exclude-for-build:

The previous URL uses the pattern: `gcr.io/PROJECT_ID/micronautguide:latest`. Change it to use your Project ID.

You get an output such as:

[source, bash]
----
....
..
.
Pushing image 'gcr.io/micronaut-guides/micronautguide:latest'.
----

common:google-cloud-run-deploy.adoc[]

common:google-cloud-run-delete.adoc[]

== Next steps

common:google-cloud-run-next.adoc[]
