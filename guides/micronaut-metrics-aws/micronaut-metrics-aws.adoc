external:micronaut-metrics/start.adoc[]

common:requirements.adoc[]

external:micronaut-metrics/create-app.adoc[]

== Monitor metrics on the AWS Cloudwatch

To publish metrics to AWS Cloudwatch, you have to adjust your application configuration slightly, and then you will be able to create queries and monitor your metrics on https://console.aws.amazon.com/cloudwatch#metricsV2:graph=~()[Cloudwatch].

resource:application.yml[tag=metrics]

<1> Change to `false` to disable all metrics, e.g., per-environment
<2> These default to `true` and are only here for convenience, to be able to disable a subset of metrics
<3> Change namespace to something meaningful, for an example app name. In this guide we are using `micronaut_guide`

=== Visit the https://console.aws.amazon.com/cloudwatch#metricsV2:graph=~()[AWS Cloudwatch] Metrics.

In the Metrics panel select your namespace that you choose earlier. We will select `micronaut_guide`.

{empty} +

image::aws-metrics/cloudwatch-metrics.png[]

{empty} +

Here you can browse different metrics and explore their values. In this example we want to check the price of Bitcoin. Select `Metrics with no dimensions`.

{empty} +

image::aws-metrics/cloudwatch-metrics-browse.png[]

{empty} +

In this panel you can see our custom metrics about bitcoin. We can select (#2) `bitcoin.price.latest.value` to see on (#1) the graph how price of the bitcoin were changing through time.

{empty} +

image::aws-metrics/cloudwatch-bitcoin-metric.png[]

{empty} +

external:micronaut-metrics-aws/end.adoc[]
