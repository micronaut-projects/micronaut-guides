include::{commondir}/common-header.adoc[]

https://docs.aws.amazon.com/cognito/index.html[Amazon Cognito] allows customization https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-identity-pools-working-with-aws-lambda-triggers.html[User Identity Pools with AWS Lambda Triggers]

____
You can create an AWS Lambda function and then trigger that function during user pool operations such as user sign-up, confirmation, and sign-in (authentication) with a Lambda trigger. You can add authentication challenges, migrate users, and customize verification messages.
____

include::{commondir}/common-requirements.adoc[]

include::{commondir}/common-completesolution.adoc[]

== Writing the App

include::{commondir}/common-cli-or-launch.adoc[]

[source,bash]
----
mn create-function-app example.micronaut.micronautguide --features=aws-lambda --build=@build@ --lang=@lang@
----

include::{commondir}/common-build-lang-arguments.adoc[]

If you use https://launch.micronaut.io[Micronaut Launch], select serverless function as application type and add `aws-lambda` feature.

include::{commondir}/common-default-package.adoc[]

include::{commondir}/common-annotationprocessors.adoc[]

include::{commondir}/common-function-delete-sample-code.adoc[]

== Code

== Lambda

Create a Lambda Function. As a runtime, select Java 11 (Correto).

image::create-function.png[]

=== Upload Code

include::{commondir}/common-executable-jar.adoc[]

Upload it:

image::upload-function-code.png[]

=== Handler

As Handler, set:

`example.micronaut.Handler`

image::example-micronaut-handler.png[]

include::{commondir}/common-next.adoc[]

include::{commondir}/common-helpWithMicronaut.adoc[]