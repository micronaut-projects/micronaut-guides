<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1'/>
    <title>Connect a Micronaut Data JDBC Application to Azure Database for MySQL</title>
    <link rel='stylesheet' id='wp-block-library-css' href='https://micronaut.io/wp-includes/css/dist/block-library/style.min.css' type='text/css' media='all'/>
    <link rel='stylesheet' id='fonts-fira-sans-css' href='https://fonts.googleapis.com/css2?family=Fira+Sans%3Awght%40300%3B500&#038;display=swap&#038;ver=5.7' type='text/css' media='all'/>
    <link rel='stylesheet' id='micronaut-style-css' href='https://micronaut.io/wp-content/themes/micronaut/style.min.css' type='text/css' media='all'/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="https://micronaut.io/wp-content/uploads/2021/02/favicon.ico" type="image/png">
    <link rel="shortcut icon" href="https://micronaut.io/wp-content/uploads/2021/02/favicon.ico" type="image/png">
    <link rel="alternate" type="application/rss+xml" title="Micronaut Guides RSS Feed" href="https://guides.micronaut.io/latest/rss.xml" />
    <link rel="alternate" type="application/json" title="Micronaut Guides JSON Feed" href="https://guides.micronaut.io/latest/feed.json" />
    <link href="coderay.css" rel="stylesheet" />
    <link href="guide.css" rel="stylesheet" />
    <script src="lunr.js"></script>
    <script src="guide.js"></script>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="https://guides.micronaut.io/latest/images/cards/micronauttwittercard.png"/>
    <meta name="twitter:creator" content="@micronautfw"/>
    <meta name="twitter:site" content="@micronautfw"/>
    <meta name="twitter:title" content="Connect a Micronaut Data JDBC Application to Azure Database for MySQL"/>
    <meta name="twitter:description" content="Learn how to connect a Micronaut Data JDBC application to a Microsoft Azure Database for MySQL"/>
</head>
<body class="page-template page-template-page-sidebar page-template-page-sidebar-php page page-parent guide">

<header id="header">

    <div class="container">

        <nav class="navbar navbar-expand-lg navbar-dark">

            <button class="collapsed" type="button" data-toggle="collapse" data-target="#nav" aria-expanded="false">
                <span></span>
            </button>

            <a class="navbar-brand" href="https://micronaut.io">
                <img src="https://micronaut.io/wp-content/uploads/2020/11/MIcronautLogo_Horizontal.svg" alt="Micronaut framework"/>
            </a>

            <div class="collapse navbar-collapse" id="nav">

                <ul class="navbar-nav ml-auto">

                    <li id="menu-item-2865" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2865 nav-item"><a href="https://micronaut.io/download/" class="nav-link">Download</a></li>
                    <li id="menu-item-2868" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2868 dropdown nav-item"><a href="https://micronaut.io/learn/" class="nav-link dropdown-toggle" data-toggle="dropdown">Learn</a><ul class="dropdown-menu">
                        <li id="menu-item-4943" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4943"><a href="https://micronaut.io/learn/" class="dropdown-item">Overview</a></li>
                        <li id="menu-item-5111" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5111"><a href="https://docs.micronaut.io/index.html" class="dropdown-item">User Documentaton</a></li>
                        <li id="menu-item-4510" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4510"><a href="https://micronaut.io/guides/" class="dropdown-item">Guides</a></li>
                        <li id="menu-item-2896" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2896"><a href="https://micronaut.io/category/microcast/" class="dropdown-item">Microcasts</a></li>
                        <li id="menu-item-2897" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2897"><a href="https://micronaut.io/category/webinar/" class="dropdown-item">Webinars</a></li>
                        <li id="menu-item-2871" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2871"><a href="https://micronaut.io/professional-training/" class="dropdown-item">Professional Training</a></li>
                        <li id="menu-item-6526" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6526"><a href="https://micronaut-projects.github.io/micronaut-guides-mn3/latest/" class="dropdown-item">Guides for Micronaut Framework 3</a></li>
                    </ul>
                    </li>
                    <li id="menu-item-2878" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2878 dropdown nav-item"><a href="https://micronaut.io/resources/" class="nav-link dropdown-toggle" data-toggle="dropdown">Resources</a><ul class="dropdown-menu">
                        <li id="menu-item-4999" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4999"><a href="https://micronaut.io/upcoming-events/" class="dropdown-item">Upcoming Events</a></li>
                        <li id="menu-item-2879" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2879"><a href="https://micronaut.io/blog/" class="dropdown-item">Blog</a></li>
                        <li id="menu-item-6478" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6478"><a href="https://micronaut.io/category/release-announcements/" class="dropdown-item">Releases</a></li>
                        <li id="menu-item-6715" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6715"><a href="https://micronaut.io/category/security-announcements/" class="dropdown-item">Security Announcements</a></li>
                        <li id="menu-item-4499" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4499"><a href="https://micronautpodcast.com/" class="dropdown-item">Podcast</a></li>
                        <li id="menu-item-5798" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5798"><a href="https://micronaut.io/support/" class="dropdown-item">Commercial Support</a></li>
                        <li id="menu-item-4186" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4186"><a href="https://micronaut.io/resources/community-support/" class="dropdown-item">Community Support</a></li>
                        <li id="menu-item-2882" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2882"><a href="https://micronaut.io/faq/" class="dropdown-item">FAQ</a></li>
                        <li id="menu-item-2883" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2883"><a href="https://micronaut.io/contact/" class="dropdown-item">Contact</a></li>
                        <li id="menu-item-6479" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6479"><a href="https://micronaut.io/micronaut-success-stories/" class="dropdown-item">Micronaut Success Stories</a></li>
                    </ul>
                    </li>
                    <li id="menu-item-2872" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2872 dropdown nav-item"><a href="https://micronaut.io/foundation/" class="nav-link dropdown-toggle" data-toggle="dropdown">Foundation</a><ul class="dropdown-menu">
                        <li id="menu-item-2877" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2877"><a href="https://micronaut.io/foundation/" class="dropdown-item">Overview</a></li>
                        <li id="menu-item-2874" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2874"><a href="https://micronaut.io/foundation/corporate-sponsorship/" class="dropdown-item">Corporate Sponsorship</a></li>
                        <li id="menu-item-2873" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2873"><a href="https://micronaut.io/foundation/community-sponsorship/" class="dropdown-item">Community Sponsorship</a></li>
                        <li id="menu-item-2876" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2876"><a href="https://micronaut.io/foundation/sponsors/" class="dropdown-item">Sponsors</a></li>
                        <li id="menu-item-3838" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3838"><a href="https://micronaut.io/meeting-minutes/" class="dropdown-item">Meeting Minutes</a></li>
                    </ul>
                    </li>
                    <li id="menu-item-2884" class="action menu-item menu-item-type-custom menu-item-object-custom menu-item-2884 nav-item"><a target="_blank" rel="noopener" href="https://micronaut.io/launch/" class="nav-link">Launch</a></li>

                </ul>

            </div>

        </nav>

    </div>
</header>

<div style="background: #fff;padding-top: 20px;padding-bottom: 20px;">
    <div class="container" style="clear: both;">
        <fieldset style="float: right;">
            <input type="search" id="search-form-query"/>
            <input type="submit" onclick="search()" value="Search">
            <input type="submit" onclick="resetSearch()" value="Reset">
        </fieldset>
    </div>
    <div class="container" style="clear: both;margin-top: -20px;">
        <div class="guide-list" id="searchResults">
        </div>
    </div>
</div>
<div id="breadcrumbs"><div class="container"><a href="https://micronaut.io/">Home</a> » <a href="./index.html">Guides</a> » <a href="micronaut-cloud-database-azure.html">Connect a Micronaut Data JDBC Application to Azure Database for MySQL</a> » <span class="breadcrumb_last" aria-current="page">gradle | groovy</span></div></div><!-- .breadcrumbs -->
<main id="main">
    <div class="container">
        <div class="row">
            <div class="col-md-4">

                <div class="toc">
                    <div class="inner">
                        <h1 class="title title_large first-word-bold first-word-break">Table of Contents</h1>
                        <div class="underline"></div>
                        
<ul class="sectlevel1">
<li><a href="#getting-started">1. Getting Started</a></li>
<li><a href="#what-you-will-need">2. What you will need</a></li>
<li><a href="#create-an-azure-database-for-mysql-instance">3. Create an Azure Database for MySQL instance</a></li>
<li><a href="#configure-environment-variables">4. Configure Environment Variables</a>
<ul class="sectlevel2">
<li><a href="#create-a-resource-group">4.1. Create a Resource Group</a></li>
<li><a href="#create-the-azure-database-instance">4.2. Create the Azure Database Instance</a></li>
</ul>
</li>
<li><a href="#configure-mysql">5. Configure MySQL</a></li>
<li><a href="#creating-the-application">6. Creating the Application</a></li>
<li><a href="#running-the-application">7. Running the Application</a></li>
<li><a href="#cleanup">8. Cleanup</a></li>
<li><a href="#next-steps">9. Next Steps</a></li>
<li><a href="#next-steps-2">10. Next Steps</a></li>
<li><a href="#license">11. License</a></li>
</ul>

                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <h1>Connect a Micronaut Data JDBC Application to Azure Database for MySQL</h1>
                <div class="underline"></div>
<div class="sect1">
<div class="sectionbody">

<div class="paragraph">
<p>Learn how to connect a Micronaut Data JDBC application to a Microsoft Azure Database for MySQL</p>
</div>
<div class="paragraph">
<p>Authors: Graeme Rocher</p>
</div>
<div class="paragraph">
<p>Micronaut Version: 4.9.1</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started">1. Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this guide, we will create a Micronaut application written in Groovy.</p>
</div>
<div class="paragraph">
<p>The application uses Micronaut Data JDBC and a MySQL database.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-you-will-need">2. What you will need</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To complete this guide, you will need the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Some time on your hands</p>
</li>
<li>
<p>A decent text editor or IDE (e.g. <a href="https://guides.micronaut.io/latest/micronaut-intellij-idea-ide-setup.html">IntelliJ IDEA</a>)</p>
</li>
<li>
<p>JDK 21 or greater installed with <code>JAVA_HOME</code> <a href="https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux">configured appropriately</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/cli/azure/install-azure-cli">Azure CLI</a> installed with local access to Azure configured by running <a href="https://learn.microsoft.com/en-us/cli/azure/authenticate-azure-cli">az login</a>.</p>
</li>
<li>
<p>A paid or free trial Microsoft Azure account (create an account at <a href="https://azure.microsoft.com/en-us/free/">Azure account signup</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We will then connect the application to <a href="https://azure.microsoft.com/en-us/services/mysql/">Azure Database for MySQL</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Paid services are used as part of this guide. To follow the tutorial, you will need a paid Azure account or a trial account with credits available.
</td>
</tr>
</table>
</div>
</div>
</div>
</div></div><div class="row"><div class="col-md-12"><div class="sect1">
<h2 id="create-an-azure-database-for-mysql-instance">3. Create an Azure Database for MySQL instance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now, you&#8217;ll create a new <a href="https://azure.microsoft.com/en-us/services/mysql/">Azure Database for MySQL</a> instance. This is accomplished in three steps, using the <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli">Azure CLI</a>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, you&#8217;ll create a resource group that the database will form part of. It is recommended that you create a new resource group just for this guide rather than reusing an existing one.</p>
</li>
<li>
<p>Next, you&#8217;ll create the Azure Database for MySQL instance using the CLI.</p>
</li>
<li>
<p>Finally, you will configure the Azure firewall ingress rules to allow a connection from your local machine to the Azure Database instance.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configure-environment-variables">4. Configure Environment Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before getting started, configure the following environment variables. For example, using <code>bash</code>:</p>
</div>
<div class="listingblock">
<div class="title">Required Environment Variables</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">export AZURE_RESOURCE_GROUP=micronaut-azure-database-group \
export AZURE_DATABASE_NAME=micronaut-azure-database \
export AZURE_REGION=eastus \
export LOCAL_IP_ADDRESS=&lt;YOUR_LOCAL_IP_ADDRESS&gt; \
export AZURE_DATABASE_USER=guide_user \
export AZURE_DATABASE_PASSWORD=&lt;YOUR_MYSQL_PASSWORD&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The remainder of the guide will use the values of these environment variables, which are described below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AZURE_RESOURCE_GROUP</code> - The name of the Azure resource group. You can change this value if you prefer another name.</p>
</li>
<li>
<p><code>AZURE_DATABASE_NAME</code> - The name of the database that will be created within the MySQL instance. You can change this value if you prefer another name.</p>
</li>
<li>
<p><code>AZURE_REGION</code> - The Azure region. This guide uses the U.S. east region by default. However, you can change this to a closer region. You can list the regions by running <code>az account list-locations</code>.</p>
</li>
<li>
<p><code>LOCAL_IP_ADDRESS</code> - Your local IP address, which will be required to configure the Azure firewall. You will need to replace this value with your local IP address. You can find your local IP address by visiting <a href="http://whatismyip.akamai.com/">http://whatismyip.akamai.com/</a>.</p>
</li>
<li>
<p><code>AZURE_DATABASE_USER</code> - The database username to establish the connection</p>
</li>
<li>
<p><code>AZURE_DATABASE_PASSWORD</code> - The database password to establish the connection. Replace this value with a password of your choice.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="create-a-resource-group">4.1. Create a Resource Group</h3>
<div class="paragraph">
<p>First, create a resource group using the Azure CLI, specifying the <code>AZURE_RESOURCE_GROUP</code> and <code>AZURE_REGION</code> environment variables you configured in the previous section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">az group create \
    --name $AZURE_RESOURCE_GROUP \
    --location $AZURE_REGION</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above command should result in a response like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">/subscriptions/18ce9a15-3ebb-4f30-ad7d-bcc0e39329a5/resourceGroups/micronaut-azure-database-group</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">eastus</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">managedBy</span><span class="delimiter">&quot;</span></span>: <span class="value">null</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">micronaut-azure-database-group</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">properties</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">provisioningState</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Succeeded</span><span class="delimiter">&quot;</span></span>
  },
  <span class="key"><span class="delimiter">&quot;</span><span class="content">tags</span><span class="delimiter">&quot;</span></span>: <span class="value">null</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Microsoft.Resources/resourceGroups</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-the-azure-database-instance">4.2. Create the Azure Database Instance</h3>
<div class="paragraph">
<p>Now create the Azure Database for MySQL instance using the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">az mysql flexible-server create \
    --version 8.0.21 \
    --resource-group $AZURE_RESOURCE_GROUP \
    --name $AZURE_DATABASE_NAME \
    --location $AZURE_REGION \
    --sku-name Standard_B1ms \
    --tier Burstable \
    --storage-size 32 \
    --admin-user $AZURE_DATABASE_USER \
    --admin-password $AZURE_DATABASE_PASSWORD \
    --public-access $LOCAL_IP_ADDRESS</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The above command uses the <code>--version</code> flag to create a MySQL 8 instance; see the Azure documentation for <a href="https://docs.microsoft.com/en-us/azure/mysql/concepts-supported-versions">supported MySQL versions</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Creating the Azure Database for MySQL instance may take several minutes to complete. Once the operation has completed, you should see output like the following (shortened for brevity):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
   <span class="error">.</span><span class="error">.</span><span class="error">.</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">databaseName</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">flexibleserverdb</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">host</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">micronaut-azure-database.mysql.database.azure.com</span><span class="delimiter">&quot;</span></span>,
   <span class="error">.</span><span class="error">.</span><span class="error">.</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">location</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">East US</span><span class="delimiter">&quot;</span></span>,
   <span class="error">.</span><span class="error">.</span><span class="error">.</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">resourceGroup</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">micronaut-azure-database-group</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">skuname</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Standard_B1ms</span><span class="delimiter">&quot;</span></span>,
   <span class="error">.</span><span class="error">.</span><span class="error">.</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">username</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">guide_user</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">version</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">8.0.21</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configure-mysql">5. Configure MySQL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Flyway will create the database tables the first time the application starts, but you must create the actual database first.</p>
</div>
<div class="paragraph">
<p>You can once again use the Azure CLI to achieve this. The following command creates a database called <code>demo</code> within the Azure Database for MySQL instance:</p>
</div>
<div class="listingblock">
<div class="title">Create the MySQL database</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">az mysql flexible-server db create \
    --resource-group $AZURE_RESOURCE_GROUP \
    --database-name demo \
    --server-name $AZURE_DATABASE_NAME</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-application">6. Creating the Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Download the complete solution of the <a href="micronaut-data-jdbc-repository.html">Access a database with Micronaut Data JDBC</a> guide. You will use the sample application as a starting point.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-the-application">7. Running the Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With almost everything in place, you can start the application and try it out. First, set environment variables to configure the application datasource, then start the app.</p>
</div>
<div class="paragraph">
<p>Create environment variables for <code>DATASOURCES_DEFAULT_URL</code>, <code>DATASOURCES_DEFAULT_USERNAME</code>, and <code>DATASOURCES_DEFAULT_PASSWORD</code>, which will be used in the Micronaut app&#8217;s <code>application.yml</code> datasource:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">export DATASOURCES_DEFAULT_URL=jdbc:mysql://$AZURE_DATABASE_NAME.mysql.database.azure.com:3306/demo?serverTimezone=UTC
export DATASOURCES_DEFAULT_USERNAME=guide_user
export DATASOURCES_DEFAULT_PASSWORD=$AZURE_DATABASE_PASSWORD</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Window System</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Command Prompt</dt>
<dd>
<p>Change '<strong>export</strong>' to '<strong>set</strong>'</p>
<div class="paragraph">
<p>Example: <code>set DATASOURCES_DEFAULT_USERNAME=guide_user</code></p>
</div>
</dd>
<dt class="hdlist1">PowerShell</dt>
<dd>
<p>Change '<strong>export</strong> ' to '<strong>$</strong>' and use quotes around the value</p>
<div class="paragraph">
<p>Example: <code>$DATASOURCES_DEFAULT_USERNAME="guide_user"</code></p>
</div>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Micronaut Framework populates the properties <code>datasources.default.url</code>, <code>datasources.default.username</code> and <code>datasources.default.password</code> with those environment variables' values. Learn more about <a href="https://micronaut-projects.github.io/micronaut-sql/latest/guide/#jdbc-connection-pools">JDBC Connection Pools</a>.</p>
</div>
<div class="paragraph">
<p>To run the application, use the <code>./gradlew run</code> command, which starts the application on port 8080.</p>
</div>
<div class="paragraph">
<p>You can test the application in a web browser or with cURL.</p>
</div>
<div class="paragraph">
<p>Run from a terminal window to create a <code>Genre</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">curl -X &quot;POST&quot; &quot;http://localhost:8080/genres&quot; \
     -H 'Content-Type: application/json; charset=utf-8' \
     -d $'{ &quot;name&quot;: &quot;music&quot; }'</code></pre>
</div>
</div>
<div class="paragraph">
<p>and run this to list the genres:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">curl http://localhost:8080/genres/list</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cleanup">8. Cleanup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you are finished using the database, you can <a href="https://docs.microsoft.com/en-us/cli/azure/group?view=azure-cli-latest#az-group-delete">delete the resource group</a>, which will delete all resources associated with the group, including the database. To do this, run</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">az group delete -n $AZURE_RESOURCE_GROUP</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="next-steps">9. Next Steps</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="next-steps-2">10. Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Read more about <a href="https://micronaut-projects.github.io/micronaut-data/latest/guide/">Micronaut Data</a>.</p>
</div>
<div class="paragraph">
<p>Learn more about <a href="https://docs.microsoft.com/en-us/azure/postgresql/flexible-server/">Azure Flexible Server</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.microsoft.com/en-us/cli/azure/mysql/flexible-server?view=azure-cli-latest#az-mysql-flexible-server-create">az mysql flexible-server create</a></p>
</li>
<li>
<p><a href="https://docs.microsoft.com/en-us/cli/azure/mysql/flexible-server/db?view=azure-cli-latest#az-mysql-flexible-server-db-create">az mysql flexible-server db create</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="license">11. License</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All guides are released with an <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache license 2.0 license</a> for the code and a <a href="https://creativecommons.org/licenses/by/4.0/deed.en">Creative Commons Attribution 4.0</a> license for the writing and media (images&#8230;&#8203;).
</td>
</tr>
</table>
</div>

            </div>
        </div>
    </div>
</main>

<footer id="footer">
    <div class="container">

        <div class="row">
            <div class="col-sm-5 footer-left">

                <div id="text-14" class="widget widget_text">
                    <div class="textwidget">
                        <p>
                            <a href="https://micronaut.io/foundation/"><img class="alignnone size-medium wp-image-3736" src="./images/micronaut_foundation_horizontal_white.svg" alt="Micronaut Foundation"/></a>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-sm-7 footer-right">

                <ul class="meta">

                    <li id="menu-item-2895" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2895">
                        <a href="https://micronaut.io/brand-guidelines/">Brand Guidelines</a>
                    </li>
                    <li id="menu-item-2894" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2894">
                        <a href="https://micronaut.io/community-guidelines/">Community Guidelines</a>
                    </li>
                    <li id="menu-item-3377" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-privacy-policy menu-item-3377">
                        <a href="https://micronaut.io/privacy-policy/">Privacy Policy</a>
                    </li>

                </ul>

                <div id="nav_menu-2" class="widget widget_nav_menu">
                    <div class="menu-links-container">
                        <ul id="menu-links" class="menu">
                            <li class="menu-item menu-item-type-custom menu-item-object-custom "><a href="https://micronautpodcast.com"><i class="fa fa-podcast"><span class="sr-only">Podcast</span></i></a></li>
                            <li class="menu-item menu-item-type-custom menu-item-object-custom "><a href="https://micronaut.io/feed/rss/"><i class="fa fa-feed"><span class="sr-only">Feed</span></i></a></li>
                            <li class="menu-item menu-item-type-custom menu-item-object-custom "><a href="mailto:info@micronaut.io"><i class="fas fa-envelope"><span class="sr-only">Mail</span></i></a></li>
                            <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://twitter.com/micronautfw"><i class="fab fa-twitter"><span class="sr-only">Twitter</span></i></a></li>
                            <li id="menu-item-6740" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6740"><a href="https://fosstodon.org/@micronaut"><i class="fab fa-mastodon"><span class="sr-only">Mastodon</span></i></a></li>
                            <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://discord.gg/9xRFsHv98T"><i class="fab fa-discord"><span class="sr-only">Discord</span></i></a></li>
                            <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://github.com/micronaut-projects/"><i class="fab fa-github"><span class="sr-only">GitHub</span></i></a></li>
                            <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.youtube.com/@MicronautFramework"><i class="fab fa-youtube"><span class="sr-only">YouTube</span></i></a></li>
                            <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.linkedin.com/showcase/micronaut"><i class="fab fa-linkedin"><span class="sr-only">LinkedIn</span></i></a></li>
                            <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="https://www.twitch.tv/micronautfw"><i class="fab fa-twitch"><span class="sr-only">Twitch</span></i></a></li>
                        </ul>
                    </div>
                </div>
                <div id="text-5" class="widget widget_text">
                    <div class="textwidget">
                        <p>
                            <small>Guides are licensed under <a href="https://creativecommons.org/licenses/by/4.0/deed.en">CC BY 4.0</a> for the writing/media and <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache.2.0</a> for the code</small>
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div>
</footer>
</body>
</html>
